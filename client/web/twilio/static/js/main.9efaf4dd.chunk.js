(this["webpackJsonptwilio-video-app-react"]=this["webpackJsonptwilio-video-app-react"]||[]).push([[0],{165:function(e){e.exports=JSON.parse('{"a":"0.2.0"}')},185:function(e,t,n){e.exports=n(303)},303:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(14),o=n.n(i),c=n(363),l=n(362),u=n(4),s=n(7),d=n(370),m=n(169),f=n(371),b=n(348),v=n(16),p=n(59),h={width:1280,height:720,frameRate:24},g={width:1280,height:768,frameRate:24};function E(){return p.mobileModel.includes("Pixel")?g:h}var O=n(164),w=n.n(O),k=n(339);function j(e){var t=Object(a.useState)(null===e||void 0===e?void 0:e.mediaStreamTrack),n=Object(u.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){if(i(null===e||void 0===e?void 0:e.mediaStreamTrack),e){var t=function(){return i(e.mediaStreamTrack)};return e.on("started",t),function(){e.off("started",t)}}}),[e]),r}var C=Object(a.createContext)(null);function S(){var e=Object(a.useContext)(C),t=Object(u.a)(e,2);return[t[0],t[1]]}function x(e){var t=e.room,n=e.children,i=Object(a.useState)(null),o=Object(u.a)(i,2),c=o[0],l=o[1];return Object(a.useEffect)((function(){var e=function(){return l(null)};return t.on("disconnected",e),function(){t.off("disconnected",e)}}),[t]),r.a.createElement(C.Provider,{value:[c,function(e){console.log("Updating selected participant"),console.log(e),l((function(t){return t===e?null:e}))}]},n)}var y=n(162),T=n.n(y),P="undefined"!==typeof navigator&&"string"===typeof navigator.userAgent&&/Mobile/.test(navigator.userAgent);function N(){var e=F(),t=e.room.localParticipant,n=e.localTracks,r=e.getLocalVideoTrack,i=e.removeLocalVideoTrack,o=e.onError,c=n.find((function(e){return e.name.includes("camera")})),l=Object(a.useState)(!1),s=Object(u.a)(l,2),d=s[0],m=s[1],f=Object(a.useRef)(),b=Object(a.useCallback)((function(){if(!d)if(c){f.current=c.mediaStreamTrack.getSettings().deviceId;var e=null===t||void 0===t?void 0:t.unpublishTrack(c);null===t||void 0===t||t.emit("trackUnpublished",e),i()}else m(!0),r({deviceId:{exact:f.current}}).then((function(e){return null===t||void 0===t?void 0:t.publishTrack(e,{priority:"low"})})).catch(o).finally((function(){return m(!1)}))}),[c,t,r,d,o,i]);return[!!c,b]}function A(){var e=F().room,t=N(),n=Object(u.a)(t,2),r=n[0],i=n[1],o=Object(a.useRef)(!1);return Object(a.useEffect)((function(){if(P){var e=function(){"hidden"===document.visibilityState&&r?(o.current=!0,i()):o.current&&(o.current=!1,i())};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}}),[r,e,i]),null}var _=n(30),L=n.n(_);function D(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=function(){return navigator.mediaDevices.enumerateDevices().then((function(e){return r(e)}))};return navigator.mediaDevices.addEventListener("devicechange",e),e(),function(){navigator.mediaDevices.removeEventListener("devicechange",e)}}),[]),n}function R(){return D().filter((function(e){return"audioinput"===e.kind}))}function I(){return D().filter((function(e){return"videoinput"===e.kind}))}function B(){return R().length>0}function M(){return I().length>0}var z=n(18),H=n.n(z);window.TwilioVideo=L.a;var V=Object(a.createContext)(null);function W(e){var t=e.options,n=e.children,i=e.onError,o=void 0===i?function(){}:i,c=e.onDisconnect,l=void 0===c?function(){}:c,s=function(e){console.log("ERROR: ".concat(e.message),e),o(e)},d=function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(),o=Object(u.a)(i,2),c=o[0],l=o[1],s=Object(a.useState)(!1),d=Object(u.a)(s,2),m=d[0],f=d[1],b=B(),p=M(),h=Object(a.useCallback)((function(e){var t={};return e&&(t.deviceId={exact:e}),L.a.createLocalAudioTrack(t).then((function(e){return r(e),e}))}),[]),g=Object(a.useCallback)((function(e){var t=Object(v.a)(Object(v.a)({},E()),{},{name:"camera-".concat(Date.now())},e);return L.a.createLocalVideoTrack(t).then((function(e){return l(e),e}))}),[]),O=Object(a.useCallback)((function(){c&&(c.stop(),l(void 0))}),[c]),w=Object(a.useCallback)((function(){return b||p?n||c?Promise.resolve():(f(!0),L.a.createLocalTracks({video:p&&Object(v.a)(Object(v.a)({},E()),{},{name:"camera-".concat(Date.now())}),audio:b}).then((function(e){var t=e.find((function(e){return"video"===e.kind})),n=e.find((function(e){return"audio"===e.kind}));t&&l(t),n&&r(n)})).finally((function(){return f(!1)}))):Promise.resolve()}),[b,p,n,c]);return{localTracks:[n,c].filter((function(e){return void 0!==e})),getLocalVideoTrack:g,getLocalAudioTrack:h,isAcquiringLocalTracks:m,removeLocalVideoTrack:O,getAudioAndVideoTracks:w}}(),m=d.localTracks,f=d.getLocalVideoTrack,b=d.getLocalAudioTrack,p=d.isAcquiringLocalTracks,h=d.removeLocalVideoTrack,g=d.getAudioAndVideoTracks,O=function(e,t,n){var r=Object(a.useState)(new H.a),i=Object(u.a)(r,2),o=i[0],c=i[1],l=Object(a.useState)(!1),s=Object(u.a)(l,2),d=s[0],m=s[1],f=Object(a.useRef)(n);return Object(a.useEffect)((function(){f.current=n}),[n]),{room:o,isConnecting:d,connect:Object(a.useCallback)((function(n){return m(!0),L.a.connect(n,Object(v.a)(Object(v.a)({},f.current),{},{tracks:e})).then((function(e){c(e);var t=function(){return e.disconnect()};e.setMaxListeners(15),e.once("disconnected",(function(){setTimeout((function(){return c(new H.a)})),window.removeEventListener("beforeunload",t),P&&window.removeEventListener("pagehide",t)})),window.twilioRoom=e,e.localParticipant.videoTracks.forEach((function(e){return e.setPriority("low")})),m(!1),window.addEventListener("beforeunload",t),P&&window.addEventListener("pagehide",t)}),(function(e){t(e),m(!1)}))}),[e,t])}}(m,s,t),w=O.room,k=O.isConnecting,j=O.connect;!function(e,t){Object(a.useEffect)((function(){var n=function(e,n){n&&t(n)};return e.on("disconnected",n),function(){e.off("disconnected",n)}}),[e,t])}(w,o),function(e,t){var n=e.localParticipant;Object(a.useEffect)((function(){if(n)return n.on("trackPublicationFailed",t),function(){n.off("trackPublicationFailed",t)}}),[n,t])}(w,o),function(e,t){Object(a.useEffect)((function(){return e.on("disconnected",t),function(){e.off("disconnected",t)}}),[e,t])}(w,l);var C=function(e,t){var n=Object(a.useState)(!1),r=Object(u.a)(n,2),i=r[0],o=r[1],c=Object(a.useRef)(null),l=Object(a.useCallback)((function(){navigator.mediaDevices.getDisplayMedia({audio:!1,video:{frameRate:10,height:1080,width:1920}}).then((function(n){var a=n.getTracks()[0];e.localParticipant.publishTrack(a,{name:"screen",priority:"low"}).then((function(t){c.current=function(){e.localParticipant.unpublishTrack(a),e.localParticipant.emit("trackUnpublished",t),a.stop(),o(!1)},a.onended=c.current,o(!0)})).catch(t)})).catch((function(e){"AbortError"!==e.name&&"NotAllowedError"!==e.name&&t(e)}))}),[e,t]),s=Object(a.useCallback)((function(){i?c.current():l()}),[i,l,c]);return[i,s]}(w,o),S=Object(u.a)(C,2),y=S[0],T=S[1];return r.a.createElement(V.Provider,{value:{room:w,localTracks:m,isConnecting:k,onError:s,onDisconnect:l,getLocalVideoTrack:f,getLocalAudioTrack:b,connect:j,isAcquiringLocalTracks:p,removeLocalVideoTrack:h,isSharingScreen:y,toggleScreenShare:T,getAudioAndVideoTracks:g}},r.a.createElement(x,{room:w},n),r.a.createElement(A,null))}function F(){var e=Object(a.useContext)(V);if(!e)throw new Error("useVideoContext must be used within a VideoProvider");return e}function K(){var e=F().localTracks,t=Object(a.useState)(null),n=Object(u.a)(t,2),i=n[0],o=n[1],c=e.find((function(e){return e.name.includes("camera")})),l=j(c);Object(a.useEffect)((function(){var e=null===l||void 0===l?void 0:l.getSettings().facingMode;!p.isAndroid&&e&&null===i&&o(!0)}),[l,i]);var s=Object(a.useCallback)((function(){var e="user"===(null===l||void 0===l?void 0:l.getSettings().facingMode)?"environment":"user";c.restart(Object(v.a)(Object(v.a)({},E()),{},{facingMode:e}))}),[l,c]);return i?r.a.createElement(k.a,{onClick:s,disabled:!c},r.a.createElement(w.a,null)):null}var U=n(368),G=n(347),Y=n(345),q=n(346),J=n(343),Q=n(344),Z=n(165),X=n(36),$=n.n(X),ee=n(50),te={trackSwitchOffMode:"predicted",dominantSpeakerPriority:"standard",bandwidthProfileMode:"grid",maxTracks:P?"5":"8",maxAudioBitrate:"16000",renderDimensionLow:"low",renderDimensionStandard:"vga",renderDimensionHigh:"720p"},ne=function(){var e={};for(var t in te)e[t]=t;return e}();function ae(e,t){return Object(v.a)(Object(v.a)({},e),{},Object(s.a)({},t.name,"default"===t.value?void 0:t.value))}var re=n(70),ie=(n(300),{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TOKEN_ENDPOINT:"https://us-central1-juntochat-dev.cloudfunctions.net/token"}).REACT_APP_FIREBASE_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TOKEN_ENDPOINT:"https://us-central1-juntochat-dev.cloudfunctions.net/token"}).REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TOKEN_ENDPOINT:"https://us-central1-juntochat-dev.cloudfunctions.net/token"}).REACT_APP_FIREBASE_DATABASE_URL,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TOKEN_ENDPOINT:"https://us-central1-juntochat-dev.cloudfunctions.net/token"}).REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TOKEN_ENDPOINT:"https://us-central1-juntochat-dev.cloudfunctions.net/token"}).REACT_APP_FIREBASE_MESSAGING_SENDER_ID});var oe=n(47);function ce(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return fetch("/token",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({user_identity:e,room_name:t,passcode:n,create_room:a})})}function le(e){return ce("temp-name","temp-room",e,!1).then(function(){var e=Object(ee.a)($.a.mark((function e(t){var n,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,401!==t.status){e.next=5;break}return e.abrupt("return",{isValid:!1,error:null===(a=n.error)||void 0===a?void 0:a.message});case 5:if(!t.ok||!n.token){e.next=7;break}return e.abrupt("return",{isValid:!0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function ue(e){switch(e){case"passcode incorrect":return"Passcode is incorrect";case"passcode expired":return"Passcode has expired";default:return e}}function se(){var e=Object(oe.d)(),t=Object(a.useState)(null),n=Object(u.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(!1),c=Object(u.a)(o,2),l=c[0],s=c[1],d=Object(a.useState)(),m=Object(u.a)(d,2),f=m[0],b=m[1],v=Object(a.useCallback)((function(e,t){return ce(e,t,r.passcode).then(function(){var e=Object(ee.a)($.a.mark((function e(t){var n,a,r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,t.json();case 4:throw a=e.sent,r=ue((null===(n=a.error)||void 0===n?void 0:n.message)||t.statusText),Error(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return e.json()})).then((function(e){return b(e.room_type),e.token}))}),[r]);Object(a.useEffect)((function(){var t=function(){var e=window.location.search.match(/passcode=(.*)&?/);return e?e[1]:window.sessionStorage.getItem("passcode")}();t?le(t).then((function(n){(null===n||void 0===n?void 0:n.isValid)&&(i({passcode:t}),window.sessionStorage.setItem("passcode",t),e.replace(window.location.pathname))})).then((function(){return s(!0)})):s(!0)}),[e]);var p=Object(a.useCallback)((function(e){return le(e).then((function(t){if(!(null===t||void 0===t?void 0:t.isValid))throw new Error(ue(null===t||void 0===t?void 0:t.error));i({passcode:e}),window.sessionStorage.setItem("passcode",e)}))}),[]),h=Object(a.useCallback)((function(){return i(null),window.sessionStorage.removeItem("passcode"),Promise.resolve()}),[]);return{user:r,isAuthReady:l,getToken:v,signIn:p,signOut:h,roomType:f}}var de=Object(a.createContext)(null);function me(e){var t=Object(a.useState)(null),n=Object(u.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)(null),l=Object(u.a)(c,2),s=l[0],d=l[1],m=Object(a.useState)(!1),f=Object(u.a)(m,2),b=f[0],p=f[1],h=Object(a.useState)("default"),g=Object(u.a)(h,2),E=g[0],O=g[1],w=Object(a.useReducer)(ae,te),k=Object(u.a)(w,2),j=k[0],C=k[1],S={error:i,setError:o,title:s,setTitle:d,isFetching:b,activeSinkId:E,setActiveSinkId:O,settings:j,dispatchSetting:C};S="firebase"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TOKEN_ENDPOINT:"https://us-central1-juntochat-dev.cloudfunctions.net/token"}).REACT_APP_SET_AUTH?Object(v.a)(Object(v.a)({},S),function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),o=Object(u.a)(i,2),c=o[0],l=o[1],s=Object(a.useCallback)(function(){var e=Object(ee.a)($.a.mark((function e(t,a){var r,i,o;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new window.Headers,e.next=3,n.getIdToken();case 3:return i=e.sent,r.set("Authorization",i),"https://us-central1-juntochat-dev.cloudfunctions.net/token",o=new window.URLSearchParams({identity:t,roomName:a}),e.abrupt("return",fetch("".concat("https://us-central1-juntochat-dev.cloudfunctions.net/token","?").concat(o),{headers:r}).then((function(e){return e.text()})));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]);Object(a.useEffect)((function(){re.initializeApp(ie),re.auth().onAuthStateChanged((function(e){r(e),l(!0)}))}),[]);var d=Object(a.useCallback)((function(){var e=new re.auth.GoogleAuthProvider;return e.addScope("https://www.googleapis.com/auth/plus.login"),re.auth().signInWithPopup(e).then((function(e){r(e.user)}))}),[]),m=Object(a.useCallback)((function(){return re.auth().signOut().then((function(){r(null)}))}),[]);return{user:n,signIn:d,signOut:m,isAuthReady:c,getToken:s}}()):"passcode"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TOKEN_ENDPOINT:"https://us-central1-juntochat-dev.cloudfunctions.net/token"}).REACT_APP_SET_AUTH?Object(v.a)(Object(v.a)({},S),se()):Object(v.a)(Object(v.a)({},S),{},{getToken:function(){var e=Object(ee.a)($.a.mark((function e(t,n){var a,r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new window.Headers,"https://us-central1-juntochat-dev.cloudfunctions.net/token",r=new window.URLSearchParams({identity:t,roomName:n}),e.abrupt("return",fetch("".concat("https://us-central1-juntochat-dev.cloudfunctions.net/token","?").concat(r),{headers:a}).then((function(e){return e.text()})));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});return r.a.createElement(de.Provider,{value:Object(v.a)(Object(v.a)({},S),{},{getToken:function(e,t){return p(!0),S.getToken(e,t).then((function(e){return p(!1),e})).catch((function(e){return o(e),p(!1),Promise.reject(e)}))}})},e.children)}function fe(){var e=Object(a.useContext)(de);if(!e)throw new Error("useAppState must be used within the AppStateProvider");return e}var be=function(e){var t=e.open,n=e.onClose,a=fe().roomType;return r.a.createElement(U.a,{open:t,onClose:n,fullWidth:!0,maxWidth:"xs"},r.a.createElement(J.a,null,"About"),r.a.createElement(Q.a,null),r.a.createElement(Y.a,null,r.a.createElement(q.a,null,"Browser supported: ",String(L.a.isSupported)),r.a.createElement(q.a,null,"SDK Version: ",L.a.version),r.a.createElement(q.a,null,"App Version: ",Z.a),r.a.createElement(q.a,null,"Deployed Tag: ",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TOKEN_ENDPOINT:"https://us-central1-juntochat-dev.cloudfunctions.net/token"}).REACT_APP_GIT_TAG||"N/A"),r.a.createElement(q.a,null,"Deployed Commit Hash: ",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TOKEN_ENDPOINT:"https://us-central1-juntochat-dev.cloudfunctions.net/token"}).REACT_APP_GIT_COMMIT||"N/A"),a&&r.a.createElement(q.a,null,"Room Type: ",a)),r.a.createElement(Q.a,null),r.a.createElement(G.a,null,r.a.createElement(b.a,{onClick:n,color:"primary",variant:"contained",autoFocus:!0},"OK")))},ve=n(377);function pe(e){var t=Object(a.useState)(!!e&&e.isEnabled),n=Object(u.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){if(i(!!e&&e.isEnabled),e){var t=function(){return i(!0)},n=function(){return i(!1)};return e.on("enabled",t),e.on("disabled",n),function(){e.off("enabled",t),e.off("disabled",n)}}}),[e]),r}var he,ge=0,Ee=window.AudioContext||window.webkitAudioContext;function Oe(e){var t=(he=he||new Ee).createMediaStreamSource(e),n=he.createAnalyser();return n.smoothingTimeConstant=.2,n.fftSize=256,t.connect(n),n}var we=r.a.memo((function(e){var t=e.audioTrack,n=e.color,i=void 0===n?"white":n,o=Object(a.useRef)(null),c=Object(a.useState)(),l=Object(u.a)(c,2),s=l[0],d=l[1],m=pe(t),f=j(t);Object(a.useEffect)((function(){if(t&&f&&m){var e=new MediaStream([f.clone()]),n=function(){return e.getTracks().forEach((function(e){return e.stop()}))};t.on("stopped",n);var a=function(){n(),e=new MediaStream([f.clone()]),d(Oe(e))};return d(Oe(e)),window.addEventListener("focus",a),function(){n(),window.removeEventListener("focus",a),t.off("stopped",n)}}}),[m,f,t]),Object(a.useEffect)((function(){var e=o.current;if(m&&e&&s){var t=new Uint8Array(s.frequencyBinCount),n=Object(ve.a)((function(){s.getByteFrequencyData(t);for(var n=0,a=t.length,r=0;r<a;r++)n+=t[r];var i=Math.min(14,Math.max(0,7*Math.log10(n/a/3)));null===e||void 0===e||e.setAttribute("y",String(14-i))}),100);return function(){e.setAttribute("y","14"),n.stop()}}}),[m,s]);var b="audio-level-clip-".concat(ge++);return m?r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-test-audio-indicator":!0},r.a.createElement("defs",null,r.a.createElement("clipPath",{id:b},r.a.createElement("rect",{ref:o,x:"0",y:"14",width:"24",height:"24"}))),r.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(.5)"},r.a.createElement("rect",{clipPath:"url(#".concat(b,")"),width:"5.2",height:"10",x:"9.5",y:"3.5",rx:"6",ry:"3",fill:"#23BF6E"}),r.a.createElement("path",{fill:i,strokeWidth:"0",d:"M17.389 10.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V17.09C8.395 16.836 6 14.281 6 11.167c0-.276.224-.5.5-.5s.5.224.5.5c0 2.73 2.214 4.944 4.944 4.944 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM11.944 4c1.566 0 2.834 1.268 2.834 2.833v4.334c0 1.564-1.268 2.833-2.834 2.833-1.564 0-2.833-1.27-2.833-2.833V6.833C9.111 5.268 10.38 4 11.944 4zm0 1c-1.012 0-1.833.82-1.833 1.833v4.334c0 1.012.822 1.833 1.833 1.833 1.013 0 1.834-.82 1.834-1.833V6.833c0-1.013-.82-1.833-1.834-1.833z"}))):r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",transform:"translate(-0.5, 0)","data-test-audio-mute-icon":!0},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{fill:i,strokeWidth:"0",d:"M11.889 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09c-1.116-.093-2.145-.494-3-1.119l.717-.717c.793.54 1.751.857 2.783.857 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM1 6.667c.276 0 .5.224.5.5 0 .975.282 1.884.77 2.65l-.722.721C.888 9.58.5 8.418.5 7.167c0-.276.224-.5.5-.5zm8.277-1.031v1.53C9.278 8.732 8.01 10 6.445 10c-.446 0-.868-.103-1.243-.287l.776-.773c.149.039.306.06.467.06.963 0 1.751-.74 1.828-1.683l.006-.15v-.531l1-1zM6.444 0C8.01 0 9.278 1.268 9.278 2.833l-.002-.025-.999.999v-.974c0-.962-.74-1.75-1.682-1.827L6.445 1c-.962 0-1.751.74-1.828 1.683l-.006.15v4.334c0 .097.008.192.022.285l-.804.805c-.112-.269-.184-.558-.209-.86l-.009-.23V2.833C3.611 1.268 4.88 0 6.444 0z",transform:"translate(6.5 4)"}),r.a.createElement("path",{fill:"red",strokeWidth:"0",d:"M12.146.646c.196-.195.512-.195.708 0 .173.174.192.443.057.638l-.057.07-12 12c-.196.195-.512.195-.708 0-.173-.174-.192-.443-.057-.638l.057-.07 12-12z",transform:"translate(6.5 4)"})))})),ke=n(87),je=n(349),Ce=n(350),Se=n(365),xe=n(373);function ye(){var e=R(),t=F().localTracks.find((function(e){return"audio"===e.kind})),n=j(t),a=null===n||void 0===n?void 0:n.getSettings().deviceId;return r.a.createElement("div",null,r.a.createElement(ke.a,{variant:"subtitle2",gutterBottom:!0},"Audio Input"),r.a.createElement(je.a,{container:!0,alignItems:"center",justify:"space-between"},r.a.createElement("div",{className:"inputSelect"},e.length>1?r.a.createElement(Ce.a,{fullWidth:!0},r.a.createElement(Se.a,{onChange:function(e){return n=e.target.value,void(null===t||void 0===t||t.restart({deviceId:{exact:n}}));var n},value:a||"",variant:"outlined"},e.map((function(e){return r.a.createElement(xe.a,{value:e.deviceId,key:e.deviceId},e.label)})))):r.a.createElement(ke.a,null,(null===t||void 0===t?void 0:t.mediaStreamTrack.label)||"No Local Audio")),r.a.createElement(we,{audioTrack:t,color:"black"})))}function Te(){var e,t=D().filter((function(e){return"audiooutput"===e.kind})),n=fe(),a=n.activeSinkId,i=n.setActiveSinkId,o=null===(e=t.find((function(e){return e.deviceId===a})))||void 0===e?void 0:e.label;return r.a.createElement("div",{className:"inputSelect"},t.length>1?r.a.createElement(Ce.a,{fullWidth:!0},r.a.createElement(ke.a,{variant:"subtitle2",gutterBottom:!0},"Audio Output"),r.a.createElement(Se.a,{onChange:function(e){return i(e.target.value)},value:a,variant:"outlined"},t.map((function(e){return r.a.createElement(xe.a,{value:e.deviceId,key:e.deviceId},e.label)})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{variant:"subtitle2"},"Audio Output"),r.a.createElement(ke.a,null,o||"System Default Audio Output")))}var Pe=Object(d.a)("video")({width:"100%",height:"100%"});function Ne(e){var t,n,i=e.track,o=e.isLocal,c=e.priority,l=Object(a.useRef)(null),s=j(i),d=function(e){var t=Object(a.useState)(null===e||void 0===e?void 0:e.dimensions),n=Object(u.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){if(i(null===e||void 0===e?void 0:e.dimensions),e){var t=function(e){return i(null===e||void 0===e?void 0:e.dimensions)};return e.on("dimensionsChanged",t),function(){e.off("dimensionsChanged",t)}}}),[e]),r}(i),m=(null!==(t=null===d||void 0===d?void 0:d.height)&&void 0!==t?t:0)>(null!==(n=null===d||void 0===d?void 0:d.width)&&void 0!==n?n:0);Object(a.useEffect)((function(){var e=l.current;return e.muted=!0,i.setPriority&&c&&i.setPriority(c),i.attach(e),function(){i.detach(e),i.setPriority&&c&&i.setPriority(null)}}),[i,c]);var f="environment"!==(null===s||void 0===s?void 0:s.getSettings().facingMode),b={transform:o&&f?"rotateY(180deg)":"",objectFit:m||i.name.includes("screen")?"contain":"cover"};return r.a.createElement(Pe,{ref:l,style:b})}var Ae=Object(m.a)({preview:{width:"300px",maxHeight:"200px",margin:"0.5em auto","& video":{maxHeight:"200px"}}});function _e(){var e=Ae(),t=I(),n=F().localTracks.find((function(e){return"video"===e.kind})),a=j(n),i=null===a||void 0===a?void 0:a.getSettings().deviceId;return r.a.createElement("div",null,n&&r.a.createElement("div",{className:e.preview},r.a.createElement(Ne,{isLocal:!0,track:n})),t.length>1?r.a.createElement(Ce.a,{fullWidth:!0},r.a.createElement(ke.a,{variant:"subtitle2",gutterBottom:!0},"Video Input"),r.a.createElement(Se.a,{onChange:function(e){return t=e.target.value,void n.restart(Object(v.a)(Object(v.a)({},E()),{},{deviceId:{exact:t}}));var t},value:i||"",variant:"outlined"},t.map((function(e){return r.a.createElement(xe.a,{value:e.deviceId,key:e.deviceId},e.label)})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{variant:"subtitle2",gutterBottom:!0},"Video Input"),r.a.createElement(ke.a,null,(null===n||void 0===n?void 0:n.mediaStreamTrack.label)||"No Local Video")))}var Le=Object(m.a)((function(e){var t;return{container:(t={width:"600px",minHeight:"400px"},Object(s.a)(t,e.breakpoints.down("xs"),{width:"calc(100vw - 32px)"}),Object(s.a)(t,"& .inputSelect",{width:"calc(100% - 35px)"}),t),button:{float:"right"},paper:Object(s.a)({},e.breakpoints.down("xs"),{margin:"16px"}),headline:{marginBottom:"1.3em",fontSize:"1.1rem"},listSection:{margin:"2em 0 0.8em","&:first-child":{margin:"1em 0 2em 0"}}}}));function De(e){var t=e.open,n=e.onClose,a=Le();return r.a.createElement(U.a,{open:t,onClose:n,classes:{paper:a.paper}},r.a.createElement(J.a,null,"Audio and Video Settings"),r.a.createElement(Q.a,null),r.a.createElement(Y.a,{className:a.container},r.a.createElement("div",{className:a.listSection},r.a.createElement(ke.a,{variant:"h6",className:a.headline},"Video"),r.a.createElement(_e,null)),r.a.createElement(Q.a,null),r.a.createElement("div",{className:a.listSection},r.a.createElement(ke.a,{variant:"h6",className:a.headline},"Audio"),r.a.createElement(ye,null)),r.a.createElement("div",{className:a.listSection},r.a.createElement(Te,null))),r.a.createElement(Q.a,null),r.a.createElement(G.a,null,r.a.createElement(b.a,{color:"primary",variant:"contained",className:a.button,onClick:n},"Done")))}var Re=n(170),Ie=n.n(Re),Be=n(175),Me=n(64),ze=n.n(Me),He=n(354);function Ve(e){var t=Object(He.a)((function(e){return e.breakpoints.down("sm")})),n=Object(a.useState)(!1),i=Object(u.a)(n,2),o=i[0],c=i[1],l=Object(a.useState)(!1),s=Object(u.a)(l,2),d=s[0],m=s[1],f=Object(a.useState)(!1),v=Object(u.a)(f,2),p=v[0],h=v[1],g=Object(a.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{onClick:function(){return m((function(e){return!e}))},ref:g,className:e.buttonClassName},t?r.a.createElement(ze.a,null):r.a.createElement(r.a.Fragment,null,"Settings",r.a.createElement(Ie.a,null))),r.a.createElement(Be.a,{open:d,onClose:function(){return m((function(e){return!e}))},anchorEl:g.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:t?-55:"bottom",horizontal:"center"}},r.a.createElement(xe.a,{onClick:function(){return h(!0)}},r.a.createElement(ke.a,{variant:"body1"},"Audio and Video Settings"))),r.a.createElement(be,{open:o,onClose:function(){c(!1),m(!1)}}),r.a.createElement(De,{open:p,onClose:function(){h(!1),m(!1)}}))}function We(){var e=F().room,t=Object(a.useState)("disconnected"),n=Object(u.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){var t=function(){return i(e.state||"disconnected")};return t(),e.on("disconnected",t).on("reconnected",t).on("reconnecting",t),function(){e.off("disconnected",t).off("reconnected",t).off("reconnecting",t)}}),[e]),r}var Fe=n(367);function Ke(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"17",viewBox:"0 0 12 17"},r.a.createElement("path",{fill:"#707578",fillRule:"evenodd",d:"M11.389 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09C2.395 12.836 0 10.281 0 7.167c0-.276.224-.5.5-.5s.5.224.5.5c0 2.73 2.214 4.944 4.944 4.944 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM5.944 0C7.51 0 8.778 1.268 8.778 2.833v4.334C8.778 8.73 7.51 10 5.944 10 4.38 10 3.111 8.73 3.111 7.167V2.833C3.111 1.268 4.38 0 5.944 0zm0 1c-1.012 0-1.833.82-1.833 1.833v4.334C4.111 8.179 4.933 9 5.944 9c1.013 0 1.834-.82 1.834-1.833V2.833C7.778 1.82 6.958 1 5.944 1z"}))}function Ue(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{fill:"#707578",d:"M11.889 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09c-1.116-.093-2.145-.494-3-1.119l.717-.717c.793.54 1.751.857 2.783.857 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM1 6.667c.276 0 .5.224.5.5 0 .975.282 1.884.77 2.65l-.722.721C.888 9.58.5 8.418.5 7.167c0-.276.224-.5.5-.5zm8.277-1.031v1.53C9.278 8.732 8.01 10 6.445 10c-.446 0-.868-.103-1.243-.287l.776-.773c.149.039.306.06.467.06.963 0 1.751-.74 1.828-1.683l.006-.15v-.531l1-1zM6.444 0C8.01 0 9.278 1.268 9.278 2.833l-.002-.025-.999.999v-.974c0-.962-.74-1.75-1.682-1.827L6.445 1c-.962 0-1.751.74-1.828 1.683l-.006.15v4.334c0 .097.008.192.022.285l-.804.805c-.112-.269-.184-.558-.209-.86l-.009-.23V2.833C3.611 1.268 4.88 0 6.444 0z",transform:"translate(6.5 4)"}),r.a.createElement("path",{fill:"red",d:"M12.146.646c.196-.195.512-.195.708 0 .173.174.192.443.057.638l-.057.07-12 12c-.196.195-.512.195-.708 0-.173-.174-.192-.443-.057-.638l.057-.07 12-12z",transform:"translate(6.5 4)"})))}function Ge(e){var t=function(){var e=F().localTracks.find((function(e){return"audio"===e.kind}));return[pe(e),Object(a.useCallback)((function(){e&&(e.isEnabled?e.disable():e.enable())}),[e])]}(),n=Object(u.a)(t,2),i=n[0],o=n[1],c=F().localTracks.some((function(e){return"audio"===e.kind}));return r.a.createElement(b.a,{className:e.className,onClick:o,disabled:!c||e.disabled,startIcon:i?r.a.createElement(Ke,null):r.a.createElement(Ue,null),"data-cy-audio-toggle":!0},c?i?"Mute":"Unmute":"No Audio")}function Ye(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{fill:"#707578",d:"M10.503.85c.32 0 .611.125.827.329l-.696.697c-.025-.018-.053-.032-.084-.038l-.047-.006H1.207c-.102 0-.19.071-.216.165l-.008.059v7.866c0 .101.07.189.165.215l.059.008h1.156l-.983.983h-.173c-.624 0-1.139-.476-1.2-1.083L0 9.922V2.056C0 1.433.476.917 1.084.856l.123-.007h9.296zm5.49 1.124l.007.082v7.866c0 .337-.328.566-.635.47l-.076-.03-3.58-1.79v1.35c0 .623-.476 1.138-1.083 1.2l-.123.006H4.16l.984-.983h5.359c.101 0 .189-.07.215-.164l.008-.06V4.564l.983-.982.353-.353 3.227-1.612c.301-.15.652.04.704.358zm-.977.876L11.71 4.504v2.967l3.307 1.654V2.85z",transform:"translate(4 6)"}),r.a.createElement("path",{fill:"red",fillRule:"nonzero",d:"M13.06.144c.192-.192.503-.192.695 0 .171.17.19.436.057.627l-.057.068-12.29 12.29c-.192.193-.503.193-.695 0-.171-.17-.19-.435-.057-.626l.057-.069L13.06.144z",transform:"translate(4 6)"})))}function qe(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24"},r.a.createElement("path",{fill:"#707578",fillRule:"evenodd",d:"M15.003 7c.665 0 1.206.542 1.206 1.207v1.349l3.58-1.789c.301-.15.652.04.704.358l.007.082v7.866c0 .365-.385.603-.711.44l-3.58-1.79v1.35c0 .623-.476 1.138-1.083 1.2l-.123.006H5.707c-.665 0-1.207-.542-1.207-1.206V8.207C4.5 7.542 5.042 7 5.707 7zm0 .983H5.707c-.122 0-.224.102-.224.224v7.866c0 .121.102.223.224.223h9.296c.122 0 .223-.102.223-.223V8.207c0-.122-.101-.224-.223-.224zm4.513 1.019l-3.307 1.654v2.968l3.307 1.653V9.002z"}))}function Je(e){var t=N(),n=Object(u.a)(t,2),i=n[0],o=n[1],c=Object(a.useRef)(0),l=M(),s=Object(a.useCallback)((function(){Date.now()-c.current>200&&(c.current=Date.now(),o())}),[o]);return r.a.createElement(b.a,{className:e.className,onClick:s,disabled:!l||e.disabled,startIcon:i?r.a.createElement(qe,null):r.a.createElement(Ye,null)},l?i?"Stop Video":"Start Video":"No Video")}function Qe(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"#707578",fillRule:"evenodd",d:"M17.657 6.343c3.124 3.124 3.124 8.19 0 11.314-3.124 3.124-8.19 3.124-11.314 0-3.124-3.124-3.124-8.19 0-11.314 3.124-3.124 8.19-3.124 11.314 0zm-10.444.87c-2.643 2.644-2.643 6.93 0 9.574 2.644 2.643 6.93 2.643 9.574 0 2.57-2.57 2.641-6.693.214-9.35l-.214-.224L16.563 7c-2.657-2.427-6.78-2.356-9.35.214zm4.865.484l.02.003.026.005.041.01c.025.007.045.014.063.021l.043.019c.018.009.036.019.053.03.01.005.02.012.03.02.027.019.053.04.077.063l2.773 2.774c.24.24.24.63 0 .87-.213.214-.545.237-.785.071l-.085-.07-1.719-1.72v5.9c0 .34-.275.615-.615.615-.302 0-.553-.218-.605-.505l-.01-.11-.001-5.9-1.718 1.72c-.24.24-.63.24-.87 0-.214-.215-.238-.546-.072-.786l.072-.085 2.769-2.77.015-.014c.02-.018.04-.035.062-.05l.005-.004.008-.006c.027-.018.055-.034.085-.048l.034-.015.059-.02.032-.008c.021-.005.044-.008.068-.011l.038-.003H12.025l.027.002.026.002z"}))}var Ze=n(374);function Xe(){var e=F().room,t=Object(a.useState)(),n=Object(u.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){if("connected"===e.state){var t=function(){i(Array.from(e.participants.values()).concat(e.localParticipant).find((function(e){return Array.from(e.tracks.values()).find((function(e){return e.trackName.includes("screen")}))})))};return t(),e.on("trackPublished",t),e.on("trackUnpublished",t),e.on("participantDisconnected",t),e.localParticipant.on("trackPublished",t),e.localParticipant.on("trackUnpublished",t),function(){e.off("trackPublished",t),e.off("trackUnpublished",t),e.off("participantDisconnected",t),e.localParticipant.off("trackPublished",t),e.localParticipant.off("trackUnpublished",t)}}}),[e]),r}var $e=Object(m.a)((function(e){return Object(f.a)({button:{margin:e.spacing(1),"&[disabled]":{color:"#bbb","& svg *":{fill:"#bbb"}}}})}));function et(e){var t=$e(),n=Xe(),a=F().toggleScreenShare,i=Boolean(n),o=navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia,c=e.disabled||i||!o,l="";return i&&(l="Cannot share screen when another user is sharing"),o||(l="Screen sharing is not supported with this browser"),r.a.createElement(Ze.a,{title:l,placement:"top",PopperProps:{disablePortal:!0},style:{cursor:c?"not-allowed":"pointer"}},r.a.createElement("span",null,r.a.createElement(b.a,{className:t.button,onClick:a,disabled:c,startIcon:r.a.createElement(Qe,null),"data-cy-share-screen":!0},"Share Screen")))}var tt=Object(m.a)((function(e){return Object(f.a)({container:Object(s.a)({backgroundColor:e.palette.background.default,bottom:0,left:0,right:0,height:"".concat(e.footerHeight,"px"),position:"fixed",display:"flex",padding:"0 1.43em",zIndex:10},e.breakpoints.down("sm"),{height:"".concat(e.mobileFooterHeight,"px"),padding:0}),screenShareBanner:{position:"fixed",zIndex:10,bottom:"".concat(e.footerHeight,"px"),left:0,right:0,height:"104px",background:"rgba(0, 0, 0, 0.5)","& h6":{color:"white"},"& button":{background:"white",color:e.brand,border:"2px solid ".concat(e.brand),margin:"0 2em","&:hover":{color:"#600101",border:"2px solid #600101",background:"#FFE9E7"}}},hideMobile:Object(s.a)({display:"initial"},e.breakpoints.down("sm"),{display:"none"})})}));function nt(){var e=tt(),t=fe().title,n=F(),a=n.isSharingScreen,i=n.toggleScreenShare,o="reconnecting"===We(),c=(F().room,Object(oe.e)()),l=new URLSearchParams(c.search).get("screenshare"),u="true"==l||null==l;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(je.a,{container:!0,justify:"center",alignItems:"center",className:e.screenShareBanner},r.a.createElement(ke.a,{variant:"h6"},"You are sharing your screen"),r.a.createElement(b.a,{onClick:function(){return i()}},"Stop Sharing")),r.a.createElement("footer",{className:e.container},r.a.createElement(je.a,{container:!0,justify:"space-around",alignItems:"center"},r.a.createElement(Fe.a,{smDown:!0},r.a.createElement(je.a,{style:{flex:1}},r.a.createElement(ke.a,{variant:"body1"},t||""))),r.a.createElement(je.a,{item:!0},r.a.createElement(je.a,{container:!0,justify:"center"},r.a.createElement(Ge,{disabled:o}),r.a.createElement(Je,{disabled:o}),u&&!p.isMobile&&!a&&r.a.createElement(et,{disabled:o}),r.a.createElement(K,null))),r.a.createElement(Fe.a,{smDown:!0},r.a.createElement(je.a,{style:{flex:1}},r.a.createElement(je.a,{container:!0,justify:"flex-end"},r.a.createElement(Ve,null)))))))}var at=Object(m.a)((function(e){return{container:Object(s.a)({background:"white",paddingLeft:"1em",display:"none",height:"".concat(e.mobileTopBarHeight,"px")},e.breakpoints.down("sm"),{display:"flex"}),endCallButton:{height:"28px",fontSize:"0.85rem",padding:"0 0.6em"},settingsButton:Object(s.a)({},e.breakpoints.down("sm"),{height:"28px",minWidth:"28px",border:"1px solid rgb(136, 140, 142)",padding:0,margin:"0 1em"})}}));function rt(){var e=at(),t=fe().title;return r.a.createElement(je.a,{container:!0,alignItems:"center",justify:"space-between",className:e.container},r.a.createElement(ke.a,{variant:"subtitle1"},t),r.a.createElement("div",null,r.a.createElement(Ve,{buttonClassName:e.settingsButton})))}function it(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"73",height:"73",viewBox:"0 0 73 73"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("circle",{cx:"36.5",cy:"36.5",r:"36.5",fill:"#FFF"}),r.a.createElement("path",{fill:"#282A2B",strokeLinejoin:"round",d:"M30.973 23.925c-3.162 3.794-3.162 9.886 0 13.68l.262.301c.266.293.548.564.842.812l.192.154v2.95l-6.71 2.397-.213.082c-2.03.834-3.346 2.793-3.346 4.97v2.766c0 .532.431.963.963.963h27.874c.531 0 .962-.431.962-.963V49.27l-.005-.228-.015-.233c-.187-2.092-1.562-3.883-3.539-4.59l-6.71-2.397v-2.95l.192-.154c.393-.33.762-.702 1.104-1.112 3.162-3.795 3.162-9.887 0-13.681-3.25-3.9-8.603-3.9-11.853 0zm10.374 1.232c2.567 3.08 2.567 8.135 0 11.216-.404.484-.85.894-1.328 1.226-.26.18-.414.476-.414.791v4.111c0 .407.255.77.639.907l7.348 2.625c1.314.47 2.213 1.687 2.278 3.077l.004.183v1.781h-25.95l.002-1.804c0-1.394.843-2.65 2.131-3.18l.172-.065 7.327-2.617c.383-.137.639-.5.639-.907v-4.11c0-.316-.155-.612-.415-.792-.478-.332-.924-.742-1.328-1.226-2.567-3.08-2.567-8.135 0-11.216 2.427-2.912 6.248-2.974 8.735-.186l.16.186z"})))}function ot(){var e=F().localTracks.find((function(e){return"audio"===e.kind}));return r.a.createElement(we,{audioTrack:e})}var ct=Object(m.a)((function(e){return{container:{position:"relative",height:0,overflow:"hidden",paddingTop:"".concat(56.25,"%"),background:"black"},innerContainer:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},identityContainer:{position:"absolute",bottom:0,zIndex:1},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.18em 0.3em",margin:0,display:"flex",alignItems:"center"},avatarContainer:Object(s.a)({display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1},e.breakpoints.down("sm"),{"& svg":{transform:"scale(0.7)"}})}}));function lt(e){var t=e.identity,n=ct(),a=F().localTracks.find((function(e){return e.name.includes("camera")}));return r.a.createElement("div",{className:n.container},r.a.createElement("div",{className:n.innerContainer},a?r.a.createElement(Ne,{track:a,isLocal:!0}):r.a.createElement("div",{className:n.avatarContainer},r.a.createElement(it,null))),r.a.createElement("div",{className:n.identityContainer},r.a.createElement("span",{className:n.identity},r.a.createElement(ot,null),r.a.createElement(ke.a,{variant:"body1",color:"inherit",component:"span"},t))))}var ut=n(375),st=n(376),dt=[{label:"Low (160 x 90)",value:"low",resolution:{width:160,height:90}},{label:"CIF (352 x 288)",value:"cif",resolution:{width:352,height:288}},{label:"VGA (640 x 480)",value:"vga",resolution:{width:640,height:480}},{label:"WVGA (800 x 480)",value:"wvga",resolution:{width:800,height:480}},{label:"HD 540P (960 x 540)",value:"540p",resolution:{width:960,height:540}},{label:"HD 720P (1280 x 720)",value:"720p",resolution:{width:1280,height:720}},{label:"HD 960P (1280 x 960)",value:"960p",resolution:{width:1280,height:960}},{label:"HD Standard 1080P (1440 x 1080)",value:"standard1080p",resolution:{width:1440,height:1080}},{label:"HD Widescreen 1080P (1920 x 1080)",value:"wide1080p",resolution:{width:1920,height:1080}},{label:"Server Default",value:"default",resolution:void 0}];function mt(e){var t;if("undefined"!==typeof e)return null===(t=dt.find((function(t){return t.value===e})))||void 0===t?void 0:t.resolution}var ft=Object(m.a)((function(e){var t;return{container:(t={width:"600px",minHeight:"400px"},Object(s.a)(t,e.breakpoints.down("xs"),{width:"calc(100vw - 32px)"}),Object(s.a)(t,"& .inputSelect",{width:"calc(100% - 35px)"}),t),button:{float:"right"},paper:Object(s.a)({},e.breakpoints.down("xs"),{margin:"16px"}),formControl:{display:"block",margin:"1.5em 0","&:first-child":{margin:"0 0 1.5em 0"}},label:{width:"133%"}}})),bt=function(e){return"undefined"===typeof e?"default":e},vt=dt.map((function(e){var t=e.label,n=e.value;return r.a.createElement(xe.a,{value:n,key:n},t)}));function pt(e){var t=e.open,n=e.onClose,i=ft(),o=fe(),c=o.settings,l=o.dispatchSetting,u="disconnected"!==We(),s=Object(a.useCallback)((function(e){l({name:e.target.name,value:e.target.value})}),[l]),d=Object(a.useCallback)((function(e){/[^\d]/.test(e.target.value)||s(e)}),[s]);return r.a.createElement(U.a,{open:t,onClose:n,classes:{paper:i.paper}},r.a.createElement(J.a,null,"Connection Settings"),r.a.createElement(Q.a,null),r.a.createElement(Y.a,{className:i.container},r.a.createElement(je.a,{container:!0,spacing:2},r.a.createElement(je.a,{item:!0,xs:12},r.a.createElement(ke.a,{hidden:!u,variant:"body2"},"These settings cannot be changed when connected to a room.")),r.a.createElement(je.a,{item:!0,sm:6,xs:12},r.a.createElement(Ce.a,{className:i.formControl},r.a.createElement(ut.a,{id:ne.dominantSpeakerPriority},"Dominant Speaker Priority:"),r.a.createElement(Se.a,{fullWidth:!0,disabled:u,name:ne.dominantSpeakerPriority,label:ne.dominantSpeakerPriority,value:bt(c.dominantSpeakerPriority),onChange:s},r.a.createElement(xe.a,{value:"low"},"Low"),r.a.createElement(xe.a,{value:"standard"},"Standard"),r.a.createElement(xe.a,{value:"high"},"High"),r.a.createElement(xe.a,{value:"default"},"Server Default"))),r.a.createElement(Ce.a,{className:i.formControl},r.a.createElement(ut.a,{id:ne.trackSwitchOffMode},"Track Switch Off Mode:"),r.a.createElement(Se.a,{fullWidth:!0,disabled:u,name:ne.trackSwitchOffMode,label:ne.trackSwitchOffMode,value:bt(c.trackSwitchOffMode),onChange:s},r.a.createElement(xe.a,{value:"predicted"},"Predicted"),r.a.createElement(xe.a,{value:"detected"},"Detected"),r.a.createElement(xe.a,{value:"disabled"},"Disabled"),r.a.createElement(xe.a,{value:"default"},"Server Default"))),r.a.createElement(Ce.a,{className:i.formControl},r.a.createElement(ut.a,{id:ne.bandwidthProfileMode},"Mode:"),r.a.createElement(Se.a,{fullWidth:!0,disabled:u,name:ne.bandwidthProfileMode,label:ne.bandwidthProfileMode,value:bt(c.bandwidthProfileMode),onChange:s},r.a.createElement(xe.a,{value:"grid"},"Grid"),r.a.createElement(xe.a,{value:"collaboration"},"Collaboration"),r.a.createElement(xe.a,{value:"presentation"},"Presentation"),r.a.createElement(xe.a,{value:"default"},"Server Default"))),r.a.createElement(Ce.a,{className:i.formControl},r.a.createElement(st.a,{disabled:u,fullWidth:!0,id:ne.maxTracks,label:"Max Tracks",placeholder:"Leave blank for no limit",name:ne.maxTracks,value:bt(c.maxTracks),onChange:d})),r.a.createElement(Ce.a,{className:i.formControl},r.a.createElement(st.a,{disabled:u,fullWidth:!0,id:ne.maxAudioBitrate,label:"Max Audio Bitrate",placeholder:"Leave blank for no limit",name:ne.maxAudioBitrate,value:bt(c.maxAudioBitrate),onChange:d}))),r.a.createElement(je.a,{item:!0,sm:6,xs:12},r.a.createElement(Ce.a,{fullWidth:!0,className:i.formControl},r.a.createElement(ut.a,{id:ne.renderDimensionLow,className:i.label},"Render Dimension (Low Priority):"),r.a.createElement(Se.a,{fullWidth:!0,disabled:u,name:ne.renderDimensionLow,label:ne.renderDimensionLow,value:bt(c.renderDimensionLow),onChange:s},vt)),r.a.createElement(Ce.a,{fullWidth:!0,className:i.formControl},r.a.createElement(ut.a,{id:ne.renderDimensionStandard,className:i.label},"Render Dimension (Standard Priority):"),r.a.createElement(Se.a,{fullWidth:!0,disabled:u,name:ne.renderDimensionStandard,label:ne.renderDimensionStandard,value:bt(c.renderDimensionStandard),onChange:s},vt)),r.a.createElement(Ce.a,{fullWidth:!0,className:i.formControl},r.a.createElement(ut.a,{id:ne.renderDimensionHigh,className:i.label},"Render Dimension (High Priority):"),r.a.createElement(Se.a,{fullWidth:!0,disabled:u,name:ne.renderDimensionHigh,label:ne.renderDimensionHigh,value:bt(c.renderDimensionHigh),onChange:s},vt))))),r.a.createElement(Q.a,null),r.a.createElement(G.a,null,r.a.createElement(b.a,{className:i.button,color:"primary",variant:"contained",onClick:n},"Done")))}function ht(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("g",{fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("g",{fill:"#707578"},r.a.createElement("path",{d:"M10 .833c.276 0 .5.224.5.5l-.001 1.775.16.042c.423.113.775.226 1.072.35l.121.054 1.273-1.272c.173-.173.442-.192.637-.057l.07.057 1.886 1.886c.195.196.195.512 0 .708l-1.273 1.27.055.123c.125.297.238.65.351 1.073l.041.158h1.775c.245 0 .45.177.492.41l.008.09v2c0 .276-.224.5-.5.5H14.89l-.03.118c-.115.431-.231.798-.358 1.103l-.058.131 1.273 1.273c.173.174.192.443.057.638l-.057.07-1.886 1.885c-.195.195-.511.195-.707 0l-1.273-1.272-.12.053c-.296.125-.648.238-1.071.352l-.162.041.001 1.775c0 .245-.177.45-.41.492l-.09.008H8c-.276 0-.5-.224-.5-.5l-.001-1.775-.161-.042c-.425-.114-.776-.227-1.072-.351l-.12-.054-1.271 1.272c-.174.174-.443.193-.638.058l-.07-.057-1.885-1.886c-.195-.195-.196-.512 0-.707l1.272-1.273-.053-.12c-.125-.296-.238-.648-.352-1.071l-.042-.161H1.333c-.245 0-.45-.177-.492-.41L.833 10V8c0-.276.224-.5.5-.5h1.774l.042-.16c.114-.424.227-.776.352-1.072l.052-.121-1.271-1.271c-.174-.174-.193-.443-.058-.638l.058-.07 1.886-1.886c.195-.195.512-.195.707 0l1.272 1.272.121-.053c.297-.125.65-.238 1.073-.351l.158-.042.001-1.775c0-.245.177-.45.41-.492L8 .833zm-.501 1h-1L8.5 3.499c0 .202-.121.38-.302.459l-.08.027c-.857.206-1.458.397-1.805.608-.197.12-.45.09-.614-.073L4.521 3.342 3.342 4.521 4.52 5.699c.14.14.182.347.116.527l-.043.087c-.211.347-.402.947-.61 1.805-.054.224-.255.382-.486.382H1.833v1h1.664c.202 0 .381.121.46.301l.026.081c.208.858.399 1.458.61 1.805.12.197.09.45-.073.614l-1.178 1.177 1.178 1.179 1.178-1.178c.14-.14.347-.182.528-.115l.087.042c.277.17.714.325 1.32.487l.485.124c.224.054.382.255.382.486l-.001 1.663h1l.001-1.663c0-.202.121-.381.301-.46l.081-.026c.858-.208 1.458-.399 1.804-.61.197-.12.45-.09.614.073l1.178 1.177 1.179-1.179-1.177-1.177c-.14-.14-.182-.347-.116-.527l.043-.087c.189-.31.37-.852.554-1.577l.056-.23c.055-.223.256-.38.486-.38h1.663v-1h-1.664c-.202 0-.381-.121-.46-.302l-.026-.08c-.206-.854-.398-1.458-.61-1.806-.12-.197-.09-.45.074-.614l1.176-1.177-1.178-1.178L12.3 4.52c-.14.14-.346.182-.526.116l-.088-.043c-.277-.169-.717-.325-1.32-.486l-.483-.122C9.658 3.93 9.5 3.73 9.5 3.499l-.001-1.666zm1.976 4.692c1.367 1.367 1.367 3.583 0 4.95s-3.583 1.367-4.95 0-1.367-3.583 0-4.95 3.583-1.367 4.95 0zm-4.243.707c-.976.977-.976 2.56 0 3.536.977.976 2.56.976 3.536 0 .934-.934.974-2.423.122-3.405l-.122-.13-.13-.123c-.983-.852-2.472-.812-3.406.122z",transform:"translate(-636 -585) translate(276 301) translate(360 284) translate(3 3)"}))))}var gt=Object(m.a)((function(e){return{settingsButton:{margin:"1.8em 0 0"}}}));function Et(e){var t=e.mobileButtonClass,n=gt(),i=fe().roomType,o=Object(He.a)((function(e){return e.breakpoints.down("sm")})),c=Object(a.useState)(!1),l=Object(u.a)(c,2),s=l[0],d=l[1],m=Object(a.useState)(!1),f=Object(u.a)(m,2),v=f[0],p=f[1],h=Object(a.useState)(!1),g=Object(u.a)(h,2),E=g[0],O=g[1],w=Object(a.useState)(!1),k=Object(u.a)(w,2),j=k[0],C=k[1],S=Object(a.useRef)(null);return r.a.createElement(r.a.Fragment,null,o?r.a.createElement(b.a,{ref:S,onClick:function(){return d(!0)},startIcon:r.a.createElement(ze.a,null),className:t},"More"):r.a.createElement(b.a,{ref:S,onClick:function(){return d(!0)},startIcon:r.a.createElement(ht,null),className:n.settingsButton},"Settings"),r.a.createElement(Be.a,{open:s,onClose:function(){return d((function(e){return!e}))},anchorEl:S.current,anchorOrigin:{vertical:"bottom",horizontal:o?"left":"right"},transformOrigin:{vertical:o?-55:-45,horizontal:"center"}},r.a.createElement(xe.a,{onClick:function(){return p(!0)}},r.a.createElement(ke.a,{variant:"body1"},"About")),r.a.createElement(xe.a,{onClick:function(){return O(!0)}},r.a.createElement(ke.a,{variant:"body1"},"Audio and Video Settings")),"peer-to-peer"!==i&&"go"!==i&&r.a.createElement(xe.a,{onClick:function(){return C(!0)}},r.a.createElement(ke.a,{variant:"body1"},"Connection Settings"))),r.a.createElement(be,{open:v,onClose:function(){p(!1),d(!1)}}),r.a.createElement(De,{open:E,onClose:function(){O(!1),d(!1)}}),r.a.createElement(pt,{open:j,onClose:function(){C(!1),d(!1)}}))}var Ot=Object(m.a)((function(e){return{gutterBottom:{marginBottom:"1em"},marginTop:{marginTop:"1em"},deviceButton:{width:"100%",border:"2px solid #aaa",margin:"1em 0"},localPreviewContainer:Object(s.a)({paddingRight:"2em"},e.breakpoints.down("sm"),{padding:"0 2.5em"}),joinButtons:Object(s.a)({display:"flex",justifyContent:"flex-end"},e.breakpoints.down("sm"),{flexDirection:"column-reverse",width:"100%","& button":{margin:"0.5em 0"}}),mobileButtonBar:Object(s.a)({},e.breakpoints.down("sm"),{display:"flex",justifyContent:"space-between",margin:"1.5em 0 1em"}),mobileButton:{padding:"0.8em 0",margin:0}}}));function wt(e){var t=e.name,n=e.title,i=e.token,o=Ot(),c=fe().isFetching,l=F(),s=l.connect,d=l.isAcquiringLocalTracks,m=l.isConnecting,f=N(),v=Object(u.a)(f,1)[0],p=Object(a.useState)(!1),h=Object(u.a)(p,2),g=h[0],E=h[1],O=c||d||m||g&&!v;return Object(a.useEffect)((function(){d||(E(!0),setTimeout((function(){return E(!1)}),5e3))}),[d]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{variant:"h5",className:o.gutterBottom},n),r.a.createElement(je.a,{container:!0,justify:"center"},r.a.createElement(je.a,{item:!0,md:7,sm:12,xs:12},r.a.createElement("div",{className:o.localPreviewContainer},r.a.createElement(lt,{identity:t})),r.a.createElement("div",{className:o.mobileButtonBar},r.a.createElement(Fe.a,{mdUp:!0},r.a.createElement(Ge,{className:o.mobileButton,disabled:O}),r.a.createElement(Je,{className:o.mobileButton,disabled:O})),r.a.createElement(Et,{mobileButtonClass:o.mobileButton}))),r.a.createElement(je.a,{item:!0,md:5,sm:12,xs:12},r.a.createElement(je.a,{container:!0,direction:"column",justify:"space-between",style:{height:"100%"}},r.a.createElement("div",null,r.a.createElement(Fe.a,{smDown:!0},r.a.createElement(Ge,{className:o.deviceButton,disabled:O}),r.a.createElement(Je,{className:o.deviceButton,disabled:O}))),r.a.createElement("div",{className:o.joinButtons},r.a.createElement(b.a,{variant:"contained",color:"primary","data-cy-join-now":!0,onClick:function(){s(i)},disabled:O},"Join Now"))))))}var kt=Object(m.a)((function(e){return{background:{display:"flex",alignItems:"center",justifyContent:"center",background:"rgb(40, 42, 43)",height:"100%"},container:{position:"relative",flex:"1"},innerContainer:Object(s.a)({display:"flex",width:"888px",height:"379px",borderRadius:"8px",boxShadow:"0px 2px 4px 0px rgba(40, 42, 43, 0.3)",overflow:"hidden",position:"relative",margin:"auto"},e.breakpoints.down("sm"),{display:"block",height:"auto",width:"calc(100% - 40px)",margin:"auto",maxWidth:"400px"}),swooshContainer:Object(s.a)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='296' height='378' viewBox='0 0 296 378'%3E%3Cdefs%3E%3ClinearGradient id='utbttnlrpc' x1='78.976%25' x2='63.882%25' y1='60.873%25' y2='45.554%25'%3E%3Cstop offset='0%25' stop-opacity='0'/%3E%3Cstop offset='100%25'/%3E%3C/linearGradient%3E%3ClinearGradient id='aim8r3oczd' x1='78.976%25' x2='63.882%25' y1='56.106%25' y2='47.503%25'%3E%3Cstop offset='0%25' stop-opacity='0'/%3E%3Cstop offset='100%25'/%3E%3C/linearGradient%3E%3Cpath id='5tk4i6f80a' d='M0 0H296V378H0z'/%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cmask id='m1ihwluuxb' fill='%23fff'%3E%3Cuse xlink:href='%235tk4i6f80a'/%3E%3C/mask%3E%3Cuse fill='%23DE5858' xlink:href='%235tk4i6f80a'/%3E%3Cg mask='url(%23m1ihwluuxb)'%3E%3Cg%3E%3Cpath fill='url(%23utbttnlrpc)' d='M0 286.83c87.695-83.937 175.802-132.682 264.323-146.233 132.78-20.328 183.24 4.255 225.143-23.414 73.409-48.471 93.039-15.154 148.326-20.892 44.84-4.654 98.48-77.401 135.81-91.717C795.596-3.86 821.469.801 851.22 18.56L891 476.5H0V286.83z' opacity='.06' transform='translate(-457 -22.5)'/%3E%3Cpath fill='url(%23aim8r3oczd)' d='M137 604.5c63.759-109.686 155.8-165.124 276.126-166.315 180.488-1.786 157.888-146.686 387.11-146.33 229.223.356 170.665-151.786 341.36-166.888 113.797-10.068 180.265 10.685 199.404 62.26V604.5H137z' opacity='.08' transform='translate(-457 -22.5)'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");",backgroundSize:"cover",width:"296px",color:"white",fontSize:"30px"},e.breakpoints.down("sm"),{width:"100%",display:"none",height:"100px",backgroundPositionY:"140px"}),logoContainer:Object(s.a)({position:"absolute",width:"210px",textAlign:"center"},e.breakpoints.down("sm"),{display:"flex",alignItems:"center",width:"90%",textAlign:"initial","& svg":{height:"64px"}}),twilioLogo:{position:"absolute",top:0,left:0,margin:"20px"},content:Object(s.a)({background:"white",width:"100%",padding:"4em",flex:1},e.breakpoints.down("sm"),{padding:"2em"}),title:Object(s.a)({color:"white",margin:"1em 0 0"},e.breakpoints.down("sm"),{margin:0,fontSize:"1.1rem"}),subContentContainer:{position:"absolute",marginTop:"1em",width:"100%"}}})),jt=function(e){var t=kt();fe().user,Object(oe.e)();return r.a.createElement("div",{className:t.background},r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.innerContainer},r.a.createElement("div",{className:t.swooshContainer},"Junto"),r.a.createElement("div",{className:t.content},e.children)),e.subContent&&r.a.createElement("div",{className:t.subContentContainer},e.subContent)))},Ct=n(3),St=n(173),xt=n.n(St);function yt(){return r.a.createElement("svg",{width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{transform:"translate(-299.000000, -723.000000)",fill:"#D61F1F"},r.a.createElement("g",{transform:"translate(276.000000, 704.000000)"},r.a.createElement("g",{transform:"translate(23.000000, 19.000000)"},r.a.createElement("path",{d:"M8.03935839,0.763849674 L13.2361503,5.96064161 C13.8101721,6.5346634 13.8101721,7.4653366 13.2361503,8.03935839 L8.03935839,13.2361503 C7.4653366,13.8101721 6.5346634,13.8101721 5.96064161,13.2361503 L0.763849674,8.03935839 C0.189827887,7.4653366 0.189827887,6.5346634 0.763849674,5.96064161 L5.96064161,0.763849674 C6.5346634,0.189827887 7.4653366,0.189827887 8.03935839,0.763849674 Z M7,8.66666667 C6.53976271,8.66666667 6.16666667,9.03976271 6.16666667,9.5 C6.16666667,9.96023729 6.53976271,10.3333333 7,10.3333333 C7.46023729,10.3333333 7.83333333,9.96023729 7.83333333,9.5 C7.83333333,9.03976271 7.46023729,8.66666667 7,8.66666667 Z M7.00842529,4.5 L6.99145559,4.5 C6.48802096,4.5 6.09771771,4.99363437 6.17690967,5.53663218 L6.53327351,7.40140326 C6.56721292,7.64822044 6.76519283,7.83333333 6.99711216,7.83333333 L7.00276873,7.83333333 C7.23468805,7.83333333 7.43266796,7.64822044 7.46660737,7.40140326 L7.82297121,5.53663218 C7.90216317,4.99363437 7.51751649,4.50617043 7.00842529,4.5 Z",id:"Error"}))))))}var Tt=n(369);function Pt(){return r.a.createElement("svg",{width:"16px",height:"14px",viewBox:"0 0 16 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{transform:"translate(-273.000000, -162.000000)",fill:"#E46216"},r.a.createElement("g",{transform:"translate(251.000000, 143.000000)"},r.a.createElement("g",{transform:"translate(22.000000, 19.000000)"},r.a.createElement("path",{d:"M6.68405227,0.743750848 C7.26590697,-0.247916949 8.73410873,-0.247916949 9.31596344,0.743750848 L9.31596344,0.743750848 L15.7980583,11.7915293 C16.3754418,12.775573 15.6458879,14 14.4821027,14 L14.4821027,14 L1.5178827,14 C0.354135396,14 -0.375441293,12.775573 0.201934693,11.7915293 L0.201934693,11.7915293 Z M8,10 C7.44771525,10 7,10.4477153 7,11 C7,11.5522847 7.44771525,12 8,12 C8.55228475,12 9,11.5522847 9,11 C9,10.4477153 8.55228475,10 8,10 Z M8.01011035,5 L7.98974671,5 L7.87816923,5.00681158 C7.32928042,5.07427655 6.92320065,5.63308608 7.01229161,6.24395862 L7.01229161,6.24395862 L7.43992821,8.48168391 L7.46058982,8.57746523 C7.53403676,8.82448556 7.74990819,9 8.00332247,9 L8.00332247,9 L8.09436762,8.9919759 C8.33199007,8.94972242 8.5237268,8.74495557 8.55992884,8.48168391 L8.55992884,8.48168391 L8.98756545,6.24395862 L8.99896034,6.12268979 C9.02431547,5.52149772 8.58283795,5.00694173 8.01011035,5 L8.01011035,5 Z"}))))))}var Nt,At=Object(m.a)((function(e){return{container:Object(s.a)({display:"flex",alignItems:"baseline",justifyContent:"space-between",width:"400px",minHeight:"50px",background:"white",padding:"1em",borderRadius:"3px",boxShadow:"0 12px 24px 4px rgba(40,42,43,0.2)"},e.breakpoints.down("sm"),{width:"100%"}),contentContainer:{display:"flex"},iconContainer:{display:"flex",padding:"0 1.3em 0 0.3em",transform:"translateY(4px)"},headline:{fontWeight:"bold"},error:{borderLeft:"4px solid #D61F1F"},warning:{borderLeft:"4px solid #E46216"}}}));function _t(e){var t,n=e.headline,a=e.message,i=e.variant,o=e.open,c=e.handleClose,l=At();return r.a.createElement(Tt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:function(e,t){"clickaway"!==t&&(null===c||void 0===c||c())}},r.a.createElement("div",{className:Object(Ct.a)(l.container,(t={},Object(s.a)(t,l.error,"error"===i),Object(s.a)(t,l.warning,"warning"===i),t))},r.a.createElement("div",{className:l.contentContainer},r.a.createElement("div",{className:l.iconContainer},"warning"===i&&r.a.createElement(Pt,null),"error"===i&&r.a.createElement(yt,null)),r.a.createElement("div",null,r.a.createElement(ke.a,{variant:"body1",className:l.headline,component:"span"},n),r.a.createElement(ke.a,{variant:"body1",component:"span"}," ",a))),r.a.createElement("div",null,c&&r.a.createElement(k.a,{size:"small","aria-label":"close",color:"inherit",onClick:c},r.a.createElement(xt.a,{fontSize:"small"})))))}function Lt(e){var t=e.error,n=B(),i=M(),o=F().isAcquiringLocalTracks,c=Object(a.useState)(!1),l=Object(u.a)(c,2),s=l[0],d=l[1],m=!s&&!o&&(Boolean(t)||!n||!i),f=function(e,t,n){var a="",r="";switch(!0){case"NotAllowedError"===(null===n||void 0===n?void 0:n.name):a="Unable to Access Media:",r="Permission denied by system"===n.message?"The operating system has blocked the browser from accessing the microphone or camera. Please check your operating system settings.":"The user has denied permission to use audio and video. Please grant permission to the browser to access the microphone and camera.";break;case"NotFoundError"===(null===n||void 0===n?void 0:n.name):a="Cannot Find Microphone or Camera:",r="The browser cannot access the microphone or camera. Please make sure all input devices are connected and enabled.";break;case Boolean(n):a="Error Acquiring Media:",r="".concat(n.name," ").concat(n.message);break;case!e&&!t:a="No Camera or Microphone Detected:",r="Other participants in the room will be unable to see and hear you.";break;case!t:a="No Camera Detected:",r="Other participants in the room will be unable to see you.";break;case!e:a="No Microphone Detected:",r="Other participants in the room will be unable to hear you."}return{headline:a,message:r}}(n,i,t),b=f.headline,v=f.message;return r.a.createElement(_t,{open:m,handleClose:function(){return d(!0)},headline:b,message:v,variant:"warning"})}function Dt(){var e=fe(),t=e.setError,n=e.setTitle,i=F().getAudioAndVideoTracks,o=Object(a.useState)(Nt.deviceSelectionStep),c=Object(u.a)(o,1)[0],l=Object(oe.e)(),s=new URLSearchParams(l.search),d=s.get("name"),m=s.get("title"),f=s.get("token"),b=Object(a.useState)(),v=Object(u.a)(b,2),p=v[0],h=v[1];Object(a.useEffect)((function(){d?m?(n(m),f||t(new Error("Must provide token in url params. Please try again."))):t(new Error("Must provide title in url params. Please try again.")):t(new Error("Must provide user's name in url params. Please try again."))}),[]),Object(a.useEffect)((function(){c===Nt.deviceSelectionStep&&i().catch((function(e){console.log("Error acquiring local media:"),console.dir(e),h(e)}))}),[i,c]);var g=r.a.createElement(Lt,{error:p});return r.a.createElement(jt,{subContent:c===Nt.deviceSelectionStep&&g},r.a.createElement(wt,{name:d,title:m,token:f}))}function Rt(){var e=We();return r.a.createElement(_t,{variant:"error",headline:"Connection Lost:",message:"Reconnecting to room...",open:"reconnecting"===e})}!function(e){e[e.roomNameStep=0]="roomNameStep",e[e.deviceSelectionStep=1]="deviceSelectionStep"}(Nt||(Nt={}));var It=Object(d.a)("div")({display:"flex",alignItems:"flex-end","& div":{width:"2px",marginRight:"1px","&:not(:last-child)":{borderRight:"none"}}}),Bt=[0,1,2,3,4];function Mt(e){var t=function(e){var t=Object(a.useState)(e.networkQualityLevel),n=Object(u.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){var t=function(e){return i(e)};return i(e.networkQualityLevel),e.on("networkQualityLevelChanged",t),function(){e.off("networkQualityLevelChanged",t)}}),[e]),r}(e.participant);return null===t?null:r.a.createElement(It,null,Bt.map((function(e){return r.a.createElement("div",{key:e,style:{height:"".concat(3*(e+1),"px"),background:t>e?"white":"rgba(255, 255, 255, 0.2)"}})})))}var zt=n(84);function Ht(){return r.a.createElement(Ze.a,{title:"Participant is pinned. Click to un-pin.",placement:"top"},r.a.createElement(zt.a,{style:{float:"right",background:"rgba(0, 0, 0, 0.5)",padding:"0.1em",boxSizing:"content-box"},width:"26",height:"26",viewBox:"0 0 26 26"},r.a.createElement("path",{fill:"#FFF",fillRule:"evenodd",strokeWidth:"0",d:"M15.808 4.489c.208-.207.544-.207.75 0l4.953 4.952c.207.207.207.543 0 .75l-1.415 1.415c-.207.208-.543.208-.75 0l-.333-.333-3.007 3.007v2.611c0 .113-.035.222-.1.312l-.055.063-1.06 1.062c-.208.207-.544.207-.751 0l-2.809-2.81-5.992 5.993c-.207.207-.543.207-.75 0-.184-.184-.205-.47-.062-.677l.062-.073 5.991-5.993-2.808-2.808c-.184-.184-.204-.47-.061-.677l.061-.073 1.062-1.061c.1-.1.234-.156.375-.156h2.61l3.007-3.007-.332-.332c-.185-.184-.205-.47-.062-.677l.062-.073zm.376 1.125l-.666.664.333.333c.185.184.205.47.062.677l-.062.074-3.537 3.537c-.1.1-.234.155-.375.155h-2.61l-.531.531 2.803 2.803.005.006.005.005 2.804 2.803.53-.531v-2.61c0-.112.036-.221.102-.311l.054-.064 3.537-3.537c.208-.208.544-.208.75 0l.333.332.664-.666-4.201-4.201z"})))}function Vt(e){var t=Object(a.useState)(e&&e.isSwitchedOff),n=Object(u.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){if(i(e&&e.isSwitchedOff),e){var t=function(){return i(!0)},n=function(){return i(!1)};return e.on("switchedOff",t),e.on("switchedOn",n),function(){e.off("switchedOff",t),e.off("switchedOn",n)}}}),[e]),!!r}var Wt=n(75);function Ft(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){i(Array.from(e.tracks.values()));var t=function(e){return i((function(t){return[].concat(Object(Wt.a)(t),[e])}))},n=function(e){return i((function(t){return t.filter((function(t){return t!==e}))}))};return e.on("trackPublished",t),e.on("trackUnpublished",n),function(){e.off("trackPublished",t),e.off("trackUnpublished",n)}}),[e]),r}function Kt(e){var t=Object(a.useState)(e&&e.track),n=Object(u.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){if(i(e&&e.track),e){var t=function(){return i(null)};return e.on("subscribed",i),e.on("unsubscribed",t),function(){e.off("subscribed",i),e.off("unsubscribed",t)}}}),[e]),r}function Ut(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){var t=function(){return i(!0)},n=function(){return i(!1)};return n(),e.on("reconnecting",t),e.on("reconnected",n),function(){e.off("reconnecting",t),e.off("reconnected",n)}}),[e]),r}var Gt=Object(m.a)((function(e){return Object(f.a)({container:Object(s.a)({position:"relative",display:"flex",alignItems:"center",height:0,overflow:"hidden",marginBottom:"2em","& video":{filter:"none",objectFit:"contain !important"},borderRadius:"4px",border:"".concat(2,"px solid rgb(245, 248, 255)"),paddingTop:"calc(".concat(56.25,"% - ").concat(2,"px)"),background:"black"},e.breakpoints.down("sm"),{height:e.sidebarMobileHeight,width:"".concat(16*e.sidebarMobileHeight/9,"px"),marginRight:"8px",marginBottom:"0",fontSize:"10px",paddingTop:"".concat(e.sidebarMobileHeight-2,"px")}),innerContainer:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},infoContainer:{position:"absolute",zIndex:2,display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",width:"100%",background:"transparent",top:0},avatarContainer:Object(s.a)({display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1},e.breakpoints.down("sm"),{"& svg":{transform:"scale(0.7)"}}),reconnectingContainer:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(40, 42, 43, 0.75)",zIndex:1},screenShareIconContainer:{background:"rgba(0, 0, 0, 0.5)",padding:"0.18em 0.3em",marginRight:"0.3em",display:"flex","& path":{fill:"white"}},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.18em 0.3em",margin:0,display:"flex",alignItems:"center"},infoRowBottom:{display:"flex",justifyContent:"space-between",position:"absolute",bottom:0,left:0},networkQualityContainer:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.5)"},typeography:Object(s.a)({color:"white"},e.breakpoints.down("sm"),{fontSize:"0.75rem"}),hideParticipant:{display:"none"},cursorPointer:{cursor:"pointer"}})}));function Yt(e){var t,n=e.participant,a=e.onClick,i=e.isSelected,o=e.children,c=e.isLocalParticipant,l=e.hideParticipant,u=Ft(n),d=u.find((function(e){return"audio"===e.kind})),m=u.find((function(e){return e.trackName.includes("camera")})),f=Boolean(m),b=u.find((function(e){return e.trackName.includes("screen")})),v=(Vt(Kt(m)),Kt(d)),p=Ut(n),h=Gt();return r.a.createElement("div",{className:Object(Ct.a)(h.container,(t={},Object(s.a)(t,h.hideParticipant,l),Object(s.a)(t,h.cursorPointer,Boolean(a)),t)),onClick:a,"data-cy-participant":n.identity},r.a.createElement("div",{className:h.infoContainer},r.a.createElement("div",{className:h.networkQualityContainer},r.a.createElement(Mt,{participant:n})),r.a.createElement("div",{className:h.infoRowBottom},b&&r.a.createElement("span",{className:h.screenShareIconContainer},r.a.createElement(Qe,null)),r.a.createElement("span",{className:h.identity},r.a.createElement(we,{audioTrack:v}),r.a.createElement(ke.a,{variant:"body1",className:h.typeography,component:"span"},n.identity,c&&" (You)"))),r.a.createElement("div",null,i&&r.a.createElement(Ht,null))),r.a.createElement("div",{className:h.innerContainer},!f&&r.a.createElement("div",{className:h.avatarContainer},r.a.createElement(it,null)),p&&r.a.createElement("div",{className:h.reconnectingContainer},r.a.createElement(ke.a,{variant:"body1",className:h.typeography},"Reconnecting...")),o))}function qt(e){var t=e.track,n=fe().activeSinkId,r=Object(a.useRef)();return Object(a.useEffect)((function(){return r.current=t.attach(),r.current.setAttribute("data-cy-audio-track-name",t.name),document.body.appendChild(r.current),function(){return t.detach().forEach((function(e){return e.remove()}))}}),[t]),Object(a.useEffect)((function(){var e,t;null===(e=r.current)||void 0===e||null===(t=e.setSinkId)||void 0===t||t.call(e,n)}),[n]),null}function Jt(e){var t=e.publication,n=e.isLocalParticipant,a=e.videoOnly,i=e.videoPriority,o=Kt(t);if(!o)return null;switch(o.kind){case"video":return r.a.createElement(Ne,{track:o,priority:i,isLocal:o.name.includes("camera")&&n});case"audio":return a?null:r.a.createElement(qt,{track:o});default:return null}}function Qt(e){var t,n=e.participant,a=e.videoOnly,i=e.enableScreenShare,o=e.videoPriority,c=e.isLocalParticipant,l=Ft(n);return t=i&&l.some((function(e){return e.trackName.includes("screen")}))?l.filter((function(e){return!e.trackName.includes("camera")})):l.filter((function(e){return!e.trackName.includes("screen")})),r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(Jt,{key:e.kind,publication:e,participant:n,isLocalParticipant:c,videoOnly:a,videoPriority:o})})))}function Zt(e){var t=e.participant,n=e.videoOnly,a=e.enableScreenShare,i=e.onClick,o=e.isSelected,c=e.isLocalParticipant,l=e.hideParticipant;return r.a.createElement(Yt,{participant:t,onClick:i,isSelected:o,isLocalParticipant:c,hideParticipant:l},r.a.createElement(Qt,{participant:t,videoOnly:n,enableScreenShare:a,isLocalParticipant:c}))}function Xt(){var e=F().room,t=Object(a.useState)(e.dominantSpeaker),n=Object(u.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){var t=function(e){console.log("dominant speaker changed"),i(e)};return e.on("dominantSpeakerChanged",t),function(){e.off("dominantSpeakerChanged",t)}}),[e]),r}function $t(){var e=F().room,t=Xt(),n=Object(a.useState)(t),r=Object(u.a)(n,2),i=r[0],o=r[1];return Object(a.useEffect)((function(){null!=t&&o(t);var n=function(e){o((function(t){return t===e?null:t}))};return e.on("participantDisconnected",n),function(){e.off("participantDisconnected",n)}}),[e,t]),i}function en(){var e=F().room,t=$t(),n=Object(a.useState)(Array.from(e.participants.values())),r=Object(u.a)(n,2),i=r[0],o=r[1];return Object(a.useEffect)((function(){t&&o((function(e){return[t].concat(Object(Wt.a)(e.filter((function(e){return e!==t}))))}))}),[t]),Object(a.useEffect)((function(){var t=function(e){return o((function(t){return[].concat(Object(Wt.a)(t),[e])}))},n=function(e){return o((function(t){return t.filter((function(t){return t!==e}))}))};return e.on("participantConnected",t),e.on("participantDisconnected",n),function(){e.off("participantConnected",t),e.off("participantDisconnected",n)}}),[e]),i}function tn(){var e=S(),t=Object(u.a)(e,1)[0],n=Xe(),a=$t(),r=en(),i=F().room.localParticipant,o=n!==i?n:null;return(r.some((function(e){return e.identity==(null===t||void 0===t?void 0:t.identity)}))?t:null)||o||a||r[0]||i}var nn=Object(m.a)((function(e){return Object(f.a)({container:Object(s.a)({padding:"2em",overflowY:"auto",background:"rgb(79, 83, 85)",gridArea:"1 / 2 / 1 / 3",zIndex:5},e.breakpoints.down("sm"),{gridArea:"2 / 1 / 3 / 3",overflowY:"initial",overflowX:"auto",display:"flex",padding:"8px"}),transparentBackground:{background:"transparent"},scrollContainer:Object(s.a)({},e.breakpoints.down("sm"),{display:"flex"})})}));function an(){var e=nn(),t=F().room.localParticipant,n=en(),a=S(),i=Object(u.a)(a,2),o=i[0],c=i[1],l=Xe(),d=tn(),m=l&&l!==t;return 0===n.length?null:r.a.createElement("aside",{className:Object(Ct.a)(e.container,Object(s.a)({},e.transparentBackground,!m))},r.a.createElement("div",{className:e.scrollContainer},r.a.createElement(Zt,{participant:t,isLocalParticipant:!0}),n.map((function(e){var t=e===d&&e!==l&&!(e===o);return r.a.createElement(Zt,{key:e.sid,participant:e,isSelected:e===o,onClick:function(){return c(e)},hideParticipant:t})}))))}var rn=n(356),on=n(366),cn=n(355),ln=Object(m.a)((function(e){return{mainContent:{color:"black"}}}));function un(e){var t=e.participant,n=Object(a.useRef)(null),i=Object(a.useState)(!1),o=Object(u.a)(i,2),c=o[0],l=o[1],s=Object(a.useState)(!1),d=Object(u.a)(s,2),m=d[0],f=d[1],v=Object(a.useState)(!1),p=Object(u.a)(v,2),h=p[0],g=p[1],E=Object(a.useState)(!1),O=Object(u.a)(E,2),w=O[0],k=O[1],j=Object(a.useState)(!1),C=Object(u.a)(j,2),S=C[0],x=C[1],y=Object(oe.e)(),T=new URLSearchParams(y.search),P=T.get("token"),N=T.get("juntoId"),A=T.get("topicId"),_=T.get("isDev"),L=Object(a.useCallback)((function(){k(!0),fetch(_?"https://us-central1-juntochat-dev.cloudfunctions.net/KickParticipant":"https://us-central1-juntochat.cloudfunctions.net/KickParticipant",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({token:P,juntoId:N,topicId:A,kickParticipant:t.identity,lockRoom:m})}).then((function(e){return console.log(e)})).catch((function(e){console.log(e),x(!0)})).finally((function(){k(!1),g(!1)}))}),[t,m]),D=ln();return r.a.createElement("div",null,r.a.createElement(Ze.a,{title:"Admin Actions",placement:"top"},r.a.createElement(b.a,{ref:n,onClick:function(){return l(!0)},startIcon:r.a.createElement(ze.a,{style:{color:"white"}})},r.a.createElement("span",null))),r.a.createElement(Be.a,{open:c,onClose:function(){return l((function(e){return!e}))},anchorEl:n.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:-45,horizontal:"center"}},r.a.createElement(xe.a,{onClick:function(){l(!1),g(!0)}},r.a.createElement(ke.a,{variant:"body1"},"Remove Participant"))),r.a.createElement(U.a,{open:h,onClose:function(){return g(!1)},fullWidth:!0,maxWidth:"xs"},r.a.createElement(J.a,null,"Remove Participant"),r.a.createElement(Y.a,null,r.a.createElement(q.a,{className:D.mainContent},"Remove ",t.identity," from the meeting? They will not be able to rejoin. "),r.a.createElement(cn.a,{control:r.a.createElement(on.a,{checked:m,onChange:function(e,t){return f(t)},name:"lockRoom",color:"primary"}),label:"Lock room to prevent any one new from joining?"})),r.a.createElement(G.a,null,w&&r.a.createElement(rn.a,null),r.a.createElement(b.a,{onClick:L,color:"primary",variant:"contained"},"Remove Participant"),r.a.createElement(b.a,{onClick:function(){return g(!1)},color:"primary",autoFocus:!0},"No, Cancel"))),r.a.createElement(U.a,{open:S,onClose:function(){return x(!1)},fullWidth:!0,maxWidth:"xs"},r.a.createElement(J.a,null,"Error"),r.a.createElement(Y.a,null,r.a.createElement(q.a,null,"There was an error removing ",t.identity)),r.a.createElement(G.a,null,r.a.createElement(b.a,{onClick:function(){return x(!1)},color:"primary",variant:"contained"},"Ok"))))}var sn=Object(m.a)((function(e){return{container:{position:"relative",display:"flex",alignItems:"center",height:"100%"},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.1em 0.3em 0.1em 0",fontSize:"1.2em",display:"inline-flex",justifyContent:"center",alignItems:"center","& svg":{marginLeft:"0.3em"}},infoContainer:{position:"absolute",zIndex:2,height:"100%",width:"100%"},reconnectingContainer:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(40, 42, 43, 0.75)",zIndex:1},fullWidth:Object(s.a)({gridArea:"1 / 1 / 2 / 3"},e.breakpoints.down("sm"),{gridArea:"1 / 1 / 3 / 3"}),avatarContainer:{display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1,"& svg":{transform:"scale(2)"}}}}));function dn(e){var t,n=e.participant,a=e.children,i=sn(),o=F().room.localParticipant,c=o===n,l=Xe(),u=l&&l!==o,d=Ft(n),m=d.find((function(e){return e.trackName.includes("camera")})),f=d.find((function(e){return e.trackName.includes("screen")})),b=Kt(f||m),v=Boolean(b),p=Kt(d.find((function(e){return"audio"===e.kind}))),h=Vt(b),g=Ut(n),E=Object(oe.e)(),O=null!==(t=new URLSearchParams(E.search).get("isHost"))&&void 0!==t&&t;return r.a.createElement("div",{"data-cy-main-participant":!0,"data-cy-participant":n.identity,className:Object(Ct.a)(i.container,Object(s.a)({},i.fullWidth,!u))},r.a.createElement("div",{className:i.infoContainer},r.a.createElement("div",{className:i.identity},r.a.createElement(we,{audioTrack:p}),r.a.createElement(ke.a,{variant:"body1",color:"inherit"},n.identity,c&&" (You)",f&&" - Screen"),O&&!c&&r.a.createElement(un,{participant:n}))),(!v||h)&&r.a.createElement("div",{className:i.avatarContainer},r.a.createElement(it,null)),g&&r.a.createElement("div",{className:i.reconnectingContainer},r.a.createElement(ke.a,{variant:"body1",style:{color:"white"}},"Reconnecting...")),a)}function mn(){var e=tn(),t=F().room.localParticipant,n=S(),a=Object(u.a)(n,1)[0],i=Xe(),o=e!==a&&e!==i||e===t?null:"high";return r.a.createElement(dn,{participant:e},r.a.createElement(Qt,{participant:e,videoOnly:!0,enableScreenShare:e!==t,videoPriority:o,isLocalParticipant:e===t}))}var fn=Object(d.a)("div")((function(e){var t=e.theme;return Object(s.a)({position:"relative",height:"100%",display:"grid",gridTemplateColumns:"1fr ".concat(t.sidebarWidth,"px"),gridTemplateRows:"100%"},t.breakpoints.down("sm"),{gridTemplateColumns:"100%",gridTemplateRows:"1fr ".concat(t.sidebarMobileHeight+16,"px")})}));function bn(){return r.a.createElement(fn,null,r.a.createElement(mn,null),r.a.createElement(an,null))}var vn=n(357),pn=n(358),hn=n(359),gn=Object(m.a)((function(e){return{background:{display:"flex",alignItems:"center",justifyContent:"center",background:"rgb(40, 42, 43)",height:"100%"},cardAction:{justifyContent:"center"}}})),En=function(){var e=gn();return r.a.createElement("div",{className:e.background},r.a.createElement(vn.a,{variant:"outlined"},r.a.createElement(pn.a,null,r.a.createElement(ke.a,{gutterBottom:!0},"You were disconnected.")),r.a.createElement(hn.a,{className:e.cardAction},r.a.createElement(b.a,{onClick:function(){return window.top.location.reload()},color:"primary",variant:"contained"},"Refresh Page"))))},On=Object(d.a)("div")({display:"grid",gridTemplateRows:"1fr auto"}),wn=Object(d.a)("main")((function(e){var t=e.theme;return Object(s.a)({overflow:"hidden",paddingBottom:"".concat(t.footerHeight,"px"),background:"black"},t.breakpoints.down("sm"),{paddingBottom:"".concat(t.mobileFooterHeight+t.mobileTopBarHeight,"px")})}));function kn(){var e,t=We(),n=(function(){var e,t=Object(a.useState)(window.innerHeight*((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1)),n=Object(u.a)(t,2),r=n[0],i=n[1];Object(a.useEffect)((function(){var e=function(){var e;i(window.innerHeight*((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1))};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}))}(),Object(a.useState)(!1)),i=Object(u.a)(n,2),o=i[0],c=i[1],l=(Xt(),Object(oe.e)(),F().room.localParticipant),s=Object(a.useRef)(l);return Object(a.useEffect)((function(){s.current=l}),[l]),Object(a.useEffect)((function(){"connected"!==t||o||c(!0)}),[t]),e="disconnected"!==t||o?"disconnected"===t&&o?r.a.createElement(En,null):r.a.createElement(wn,null,r.a.createElement(Rt,null),r.a.createElement(rt,null),r.a.createElement(bn,null),r.a.createElement(nt,null)):r.a.createElement(Dt,null),r.a.createElement(On,{style:{height:"100%"}},e)}var jn=n(39);var Cn=function(e){var t=e.dismissError,n=e.error,a=n||{},i=a.message,o=a.code,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t){case 20101:return e+". Please make sure you are using the correct credentials.";default:return e}}(i,o);return r.a.createElement(U.a,{open:null!==n,onClose:function(){return t()},fullWidth:!0,maxWidth:"xs"},r.a.createElement(J.a,null,"ERROR"),r.a.createElement(Y.a,null,r.a.createElement(q.a,null,c),Boolean(o)&&r.a.createElement("pre",null,r.a.createElement("code",null,"Error Code: ",o))),r.a.createElement(G.a,null,r.a.createElement(b.a,{onClick:function(){return t()},color:"primary",autoFocus:!0},"OK")))},Sn=n(174),xn=Object(Sn.a)(),yn=Object(Sn.a)({overrides:{MuiCssBaseline:{"@global":{"html, body, #root":{height:"100%"}}},MuiButton:{root:{borderRadius:"4px",textTransform:"none",color:"rgb(40, 42, 43)",fontSize:"0.9rem",transition:xn.transitions.create(["background-color","box-shadow","border","color"],{duration:xn.transitions.duration.short})},text:{padding:"6px 14px"},contained:{boxShadow:"none","&:hover":{boxShadow:"none"}},outlinedPrimary:{border:"2px solid #027AC5","&:hover":{border:"2px solid rgb(1, 85, 137)"}},startIcon:{marginRight:"6px"}},MuiTypography:{body1:{color:"rgb(40, 42, 43)",fontSize:"0.9rem"}},MuiInputBase:{root:{fontSize:"0.9rem"}},MuiSelect:{root:{padding:"0.85em"}},MuiDialogActions:{root:{padding:"16px"}},MuiTextField:{root:{color:"rgb(40, 42, 43)"}},MuiInputLabel:{root:{color:"rgb(40, 42, 43)",fontSize:"1.1rem",marginBottom:"0.2em",fontWeight:500}},MuiOutlinedInput:{notchedOutline:{borderColor:"rgb(136, 140, 142)"}}},typography:{fontFamily:"Inter, sans-serif"},palette:{primary:{main:"#027AC5"}},breakpoints:{values:{xs:0,sm:2e3,md:2010,lg:2020,xl:2030}},brand:"#E22525",footerHeight:72,mobileFooterHeight:56,sidebarWidth:355,sidebarMobileHeight:90,mobileTopBarHeight:52});function Tn(){var e,t=fe(),n=t.roomType,a=t.settings,r={bandwidthProfile:{video:{mode:a.bandwidthProfileMode,dominantSpeakerPriority:a.dominantSpeakerPriority,renderDimensions:{low:mt(a.renderDimensionLow),standard:mt(a.renderDimensionStandard),high:mt(a.renderDimensionHigh)},maxTracks:Number(a.maxTracks)}},dominantSpeaker:!0,networkQuality:{local:1,remote:1},maxAudioBitrate:Number(a.maxAudioBitrate),preferredVideoCodecs:[{codec:"VP8",simulcast:"peer-to-peer"!==n&&"go"!==n}]};return P&&(null===r||void 0===r||null===(e=r.bandwidthProfile)||void 0===e?void 0:e.video)&&(r.bandwidthProfile.video.maxSubscriptionBitrate=25e5),function e(t){if(!T()(t))return t;var n={};for(var a in t){var r=t[a];"undefined"!==typeof r&&(n[a]=e(r))}return n}(r)}var Pn=n(360),Nn=n(305),An=n(361),_n=Object(m.a)({container:{marginTop:"2.5em"},paper:{padding:"1em"},heading:{marginBottom:"0.4em"}}),Ln=function(e){var t=e.children,n=_n();return L.a.isSupported?t:r.a.createElement(Pn.a,null,r.a.createElement(je.a,{container:!0,justify:"center",className:n.container},r.a.createElement(je.a,{item:!0,xs:12,sm:6},r.a.createElement(Nn.a,{className:n.paper},r.a.createElement(ke.a,{variant:"h4",className:n.heading},"Browser not supported"),r.a.createElement(ke.a,null,"Click",r.a.createElement(An.a,{href:"https://www.google.com/chrome/",target:"_blank",rel:"noopener"},"here to download Google Chrome"),".")))))},Dn=function(){var e=fe(),t=e.error,n=e.setError,a=Tn();return r.a.createElement(Ln,null,r.a.createElement(W,{options:a,onError:n},r.a.createElement(Cn,{dismissError:function(){return n(null)},error:t}),r.a.createElement(kn,null)))};o.a.render(r.a.createElement(l.a,{theme:yn},r.a.createElement(c.a,null),r.a.createElement(jn.a,null,r.a.createElement(me,null,r.a.createElement(Dn,null)))),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.9efaf4dd.chunk.js.map